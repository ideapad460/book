webpackJsonp([3,4],{24:function(t,n,e){e(57);var o=e(5)(e(89),e(54),"data-v-73b00972",null);t.exports=o.exports},25:function(t,n){},26:function(t,n){},29:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"formatDate",function(){return o}),e.d(n,"formatDate2",function(){return s}),e.d(n,"formatCount",function(){return i});var o=function(t){if(!t)return"";var n="yyyy-MM-dd",e=new Date(t),o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in o)new RegExp("("+s+")").test(n)&&(n=n.replace(RegExp.$1,1==RegExp.$1.length?o[s]:("00"+o[s]).substr((""+o[s]).length)));return n},s=function(t){if(!t)return"";var n=new Date(t),e=(new Date).getTime()-n.getTime();return e<0?"":e/1e3<30?"刚刚":e/1e3<60?parseInt(e/1e3)+"秒前":e/6e4<60?parseInt(e/6e4)+"分钟前":e/36e5<24?parseInt(e/36e5)+"小时前":e/864e5<31?parseInt(e/864e5)+"天前":e/2592e6<12?parseInt(e/2592e6)+"月前":parseInt(e/31536e6)+"年前"},i=function(t){var n=parseInt(t);return n>1e4?Math.floor(n/1e3)/10+"万":t}},30:function(t,n,e){"use strict";(function(t){var o=e(1),s=e.n(o),i=e(59),a=e.n(i);s.a.use(a.a),n.a=new a.a({mode:"history",base:t,routes:[{path:"/index",component:function(t){return e.e(0).then(function(){return t(e(99))}.bind(null,e)).catch(e.oe)},children:[{path:"hotArtist",name:"hotArtist",component:function(t){return e.e(0).then(function(){return t(e(97))}.bind(null,e)).catch(e.oe)}},{path:"playlist",name:"playlist",component:function(t){return e.e(0).then(function(){return t(e(100))}.bind(null,e)).catch(e.oe)}},{path:"album",name:"album",component:function(t){return e.e(0).then(function(){return t(e(95))}.bind(null,e)).catch(e.oe)}}]},{path:"/playListPage/:id",name:"playListPage",component:function(t){return e.e(1).then(function(){return t(e(101))}.bind(null,e)).catch(e.oe)}},{path:"/artistPage/:id",name:"artistPage",component:function(t){return e.e(1).then(function(){return t(e(98))}.bind(null,e)).catch(e.oe)}},{path:"/albumPage/:id",name:"albumPage",component:function(t){return e.e(1).then(function(){return t(e(96))}.bind(null,e)).catch(e.oe)}},{path:"*",name:"404",redirect:"/index/playlist"}]})}).call(n,"/")},31:function(t,n,e){"use strict";var o=e(1),s=e.n(o),i=e(2),a=e.n(i),r=e(11),u=e.n(r);s.a.use(a.a);var c={song:function(t){return t.song},songList:function(t){return t.songList},current:function(t){return t.current},duration:function(t){return t.duration},playing:function(t){return t.playing}},l={index:0,song:{id:0,name:"",artists:"",picUrl:"",album:"",songUrl:""},playing:!0,current:0,duration:0,loop:!1,songList:[]},p={setSong:function(t){t.song=t.songList[t.index]},setIndex:function(t,n){t.index=n},setLoop:function(t){t.loop=!t.loop},updateCurrent:function(t,n){t.current=n},updateDuration:function(t,n){t.duration=n},play:function(t){t.playing=!0},pause:function(t){t.playing=!1},playIndex:function(t,n){t.index=n,t.song=t.songList[n]},playNext:function(t){t.index<t.songList.length-1?t.index++:t.index=0,t.song=t.songList[t.index]},playPrev:function(t){t.index>0?t.index--:t.index=t.songList.length-1,t.song=t.songList[t.index]},addSongList:function(t,n){var e=!1;t.songList.forEach(function(o,s){o.id==n.id&&(t.index=s,e=!0)}),e||(t.songList.push(n),t.index=t.songList.length-1),1===t.songList.length&&(t.song=t.songList[t.index])},remove:function(t,n){t.songList.splice(n,1)},removeAll:function(t){t.songList=[]}},d={getSong:function(t,n){var e=t.commit;u.a.get("http://119.29.196.41:5000/api/song",{params:{id:n}}).then(function(t){if(t.data){var n=t.data.data.songs[0],o={};o.id=n.id,o.name=n.name,o.artist=n.artists[0].name,o.picUrl=n.artists[0].picUrl,o.songUrl=n.mp3Url,e("addSongList",o),e("setSong")}})}};n.a=new a.a.Store({getters:c,state:l,mutations:p,actions:d})},50:function(t,n,e){e(55);var o=e(5)(e(90),e(52),"data-v-0bbb7c60",null);t.exports=o.exports},51:function(t,n,e){e(56);var o=e(5)(e(91),e(53),"data-v-461d4df2",null);t.exports=o.exports},52:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"mplayer"},[e("div",{staticClass:"progress"},[e("mu-linear-progress",{attrs:{size:4,color:"red",mode:"determinate",value:t.current/t.duration*100}})],1),t._v(" "),e("mu-flexbox",{staticClass:"flexbox",attrs:{gutter:0}},[e("mu-flexbox-item",{staticClass:"avatar",attrs:{basis:"20%"}},[e("mu-avatar",{attrs:{src:t.song.picUrl}})],1),t._v(" "),e("mu-flexbox-item",{attrs:{basis:"50%"}},[e("audio",{attrs:{id:"audio",src:t.song.songUrl,autoplay:"",loop:t.loop},on:{ended:t.next,timeupdate:t.timeUpdate,error:t.error}}),t._v(" "),e("div",{staticClass:"name textOverflow"},[t._v(t._s(t.song.name))]),t._v(" "),e("div",{staticClass:"by textOverflow"},[t._v(t._s(t.song.artist))])]),t._v(" "),e("mu-flexbox-item",{staticClass:"avatar",attrs:{basis:"50%"}},[e("div",{staticClass:"btns"},[e("mu-icon",{attrs:{value:"playlist_play",size:34},on:{click:t.showList}}),t._v(" "),e("mu-icon",{attrs:{value:t.playing?"pause circle outline":"play_circle_outline",size:34},on:{click:t.toggle}}),t._v(" "),e("mu-icon",{attrs:{value:"skip_next",size:34},on:{click:t.next}})],1)])],1),t._v(" "),e("list",{ref:"SongList"})],1)},staticRenderFns:[]}},53:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("mu-bottom-sheet",{staticClass:"songList",attrs:{open:t.bottomSheet},on:{close:t.close}},[e("div",{staticClass:"songListTitle"},[t._v("\n            播放列表（"+t._s(t.songList.length)+"）\n            "),e("div",{staticClass:"right"},[e("span",{staticClass:"removeAll",on:{click:t.removeAll}},[e("mu-icon",{attrs:{value:"delete_sweep",size:20}}),t._v("\n                    清空\n                ")],1)])]),t._v(" "),e("div",{staticClass:"songListBd"},t._l(t.songList,function(n,o){return e("mu-flexbox",{staticClass:"songListItem",class:{active:t.song.id==n.id},attrs:{gutter:0}},[e("mu-flexbox-item",{staticClass:"textOverflow",attrs:{basis:"90%"}},[e("div",{on:{click:function(n){t.play(o)}}},[t._v(t._s(n.name))])]),t._v(" "),e("mu-flexbox-item",{attrs:{basis:"14%"}},[e("mu-icon",{attrs:{value:"clear",size:24},on:{click:function(n){t.remove(o)}}})],1)],1)}))])],1)},staticRenderFns:[]}},54:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"app",class:{fixBottom:t.songList.length>0}},[e("keep-alive",[e("router-view",{staticClass:"view"})],1),t._v(" "),t.songList.length>0?e("player"):t._e()],1)},staticRenderFns:[]}},55:function(t,n){},56:function(t,n){},57:function(t,n){},89:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),s=e.n(o),i=e(2),a=(e.n(i),e(50)),r=e.n(a);n.default={data:function(){return{}},components:{Player:r.a},computed:s()({},e.i(i.mapGetters)(["songList"])),methods:{}}},90:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),s=e.n(o),i=e(51),a=e.n(i),r=e(2);e.n(r);n.default={data:function(){return{loop:!0,LoadError:!1}},computed:s()({},e.i(r.mapGetters)(["song","songList","current","duration","playing"])),components:{List:a.a},mounted:function(){},methods:{showList:function(){this.$refs.SongList.open()},next:function(){this.$store.commit("playNext")},timeUpdate:function(){var t=document.getElementById("audio");this.songList.length>0&&(this.$store.commit("updateCurrent",parseInt(t.currentTime)),this.$store.commit("updateDuration",parseInt(t.duration)))},toggle:function(){var t=document.getElementById("audio");t.paused?(t.play(),this.$store.commit("play")):(t.pause(),this.$store.commit("pause"))},error:function(){window.alert("当前歌曲无版权！")}},watch:{song:function(t){t&&(this.$store.commit("updateCurrent",0),this.$store.commit("play"),this.loop=1==this.songList)},songList:function(t){}}}},91:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),s=e.n(o),i=e(2);e.n(i);n.default={data:function(){return{bottomSheet:!1}},computed:s()({},e.i(i.mapGetters)(["song","songList"])),methods:{close:function(){this.bottomSheet=!1},open:function(){this.bottomSheet=!0},play:function(t){this.$store.commit("playIndex",t)},remove:function(t){this.$store.commit("remove",t)},removeAll:function(){this.$store.commit("removeAll")}},watch:{song:function(){}}}},92:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(28),s=e.n(o),i=e(1),a=e.n(i),r=e(24),u=e.n(r),c=e(11),l=e.n(c),p=e(30),d=e(31),f=e(29),m=e(27),g=e.n(m),v=e(25),h=(e.n(v),e(26));e.n(h);a.a.use(g.a),a.a.prototype.$http=l.a,s()(f).forEach(function(t){return a.a.filter(t,f[t])}),new a.a({el:"#app",template:"<App/>",components:{App:u.a},router:p.a,store:d.a})}},[92]);
//# sourceMappingURL=app.faf14f57ca0372710fa0.js.map